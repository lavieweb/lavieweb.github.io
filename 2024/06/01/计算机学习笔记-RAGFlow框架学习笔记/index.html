<!DOCTYPE html>
<html lang="en">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="RAGFlow æ¡†æ¶å­¦ä¹ ç¬”è®°" />
    <meta name="hexo-theme-A4" content="v1.9.6" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Lavie | è½éœä¸å­¤é¹œé½é£ ç§‹æ°´å…±é•¿å¤©ä¸€è‰²</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


<meta name="generator" content="Hexo 7.3.0"></head>
    
    

    
    



    

    
    

    
    
    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #e4e4e4 ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Lavie</a> 
            <span class="description">Lavie çš„ä¸ªäººåšå®¢ï¼Œè®°å½•äº†è®¸å¤šè‡ªå·±çš„ç”Ÿæ´»æ„Ÿæ‚Ÿå’Œè®¡ç®—æœºä¸“ä¸šçŸ¥è¯†ï¼Œä¸å¤ªé è°±ï¼Œå¸Œæœ›èƒ½è®©ä½ æœ‰æ‰€æ”¶è·ã€‚</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/about/">å…³äº</a></li>
            
        
            
                <li><a href="/tags/">æ ‡ç­¾</a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    RAGFlow æ¡†æ¶å­¦ä¹ ç¬”è®°
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                    <span>æœ€è¿‘æ›´æ–°ï¼š2025-07-17</span> 
                
                
                    
                        &nbsp; | &nbsp;
                    
                     <span>å­—æ•°æ€»è®¡ï¼š3.7k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š16åˆ†é’Ÿ</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span id="busuanzi_container_page_pv">
                        é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
                    </span>
                
            </div>
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%80%E3%80%81RAGFlow-%E7%AE%80%E4%BB%8B"><span class="post-toc-text">ä¸€ã€RAGFlow ç®€ä»‹</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BA%8C%E3%80%81%E6%9E%B6%E6%9E%84%E4%B8%8E%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6"><span class="post-toc-text">äºŒã€æ¶æ„ä¸æ ¸å¿ƒç»„ä»¶</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%89%E3%80%81%E5%85%B8%E5%9E%8B%E6%B5%81%E7%A8%8B"><span class="post-toc-text">ä¸‰ã€å…¸å‹æµç¨‹</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%9B%9B%E3%80%81RAGFlow-%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8"><span class="post-toc-text">å››ã€RAGFlow æ¡†æ¶ä½¿ç”¨</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Python-API-%E7%A4%BA%E4%BE%8B"><span class="post-toc-text">Python API ç¤ºä¾‹</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96-RAG-Flow"><span class="post-toc-text">åˆå§‹åŒ– RAG Flow</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E7%9F%A5%E8%AF%86%E5%BA%93-dataset-%E7%AE%A1%E7%90%86%E7%9B%B8%E5%85%B3API"><span class="post-toc-text">çŸ¥è¯†åº“(dataset)ç®¡ç†ç›¸å…³API</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%8D%E5%90%8C%E7%B2%92%E5%BA%A6%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="post-toc-text">åˆ›å»ºä¸åŒç²’åº¦çš„æ•°æ®é›†</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%8D%E5%90%8C%E5%88%86%E5%9D%97%E6%96%B9%E6%B3%95%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="post-toc-text">åˆ›å»ºä¸åŒåˆ†å—æ–¹æ³•çš„æ•°æ®é›†</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%88%97%E5%87%BA%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="post-toc-text">åˆ—å‡ºæ•°æ®é›†</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="post-toc-text">æ›´æ–°æ•°æ®é›†</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="post-toc-text">åˆ é™¤æ•°æ®é›†</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81"><span class="post-toc-text">å®Œæ•´ä»£ç </span></a></li></ol></li></ol></li></ol></li></ol>
            
        
        <div class=".article-gallery"><h2 id="ä¸€ã€RAGFlow-ç®€ä»‹"><a href="#ä¸€ã€RAGFlow-ç®€ä»‹" class="headerlink" title="ä¸€ã€RAGFlow ç®€ä»‹"></a>ä¸€ã€RAGFlow ç®€ä»‹</h2><blockquote>
<p>RAGFlow æ˜¯ä¸€ä¸ªå¼€æºçš„æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAG, Retrieval-Augmented Generationï¼‰æ¡†æ¶ï¼Œæä¾›äº†çµæ´»çš„ç»„ä»¶åŒ–æ¶æ„æ¥æ„å»ºé«˜æ•ˆçš„ RAG ç³»ç»Ÿã€‚æœ¬æ–‡è®°å½•äº†æˆ‘å­¦ä¹  RAGFlow æ¡†æ¶çš„è¦ç‚¹ä¸å®è·µä½“ä¼šã€‚</p>
</blockquote>
<p>RAGFlow ç”±é˜¿é‡Œå·´å·´å¼€æºï¼Œæ—¨åœ¨ç®€åŒ– RAG ç³»ç»Ÿçš„å¼€å‘æµç¨‹ã€‚å®ƒæ”¯æŒæ•°æ®é¢„å¤„ç†ã€å‘é‡åŒ–ã€æ£€ç´¢ã€ç”Ÿæˆç­‰å…¨æµç¨‹ï¼Œé€‚åˆå¿«é€Ÿæ­å»ºé—®ç­”ã€çŸ¥è¯†åº“ç­‰ AI åº”ç”¨ã€‚</p>
<h2 id="äºŒã€æ¶æ„ä¸æ ¸å¿ƒç»„ä»¶"><a href="#äºŒã€æ¶æ„ä¸æ ¸å¿ƒç»„ä»¶" class="headerlink" title="äºŒã€æ¶æ„ä¸æ ¸å¿ƒç»„ä»¶"></a>äºŒã€æ¶æ„ä¸æ ¸å¿ƒç»„ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚ æ•°æ®é¢„å¤„ç†  â”‚ â†’ â”‚ å‘é‡å­˜å‚¨    â”‚   â”‚  æ£€ç´¢ç”Ÿæˆ  â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">      â”‚                â”‚                â”‚</span><br><span class="line">      â–¼                â–¼                â–¼</span><br><span class="line">  çŸ¥è¯†åº“ç®¡ç†        æ£€ç´¢å¼•æ“         ç»“æœä¼˜åŒ–</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>Processor</strong>ï¼šæ•°æ®æ¸…æ´—ã€åˆ†å‰²</p>
</li>
<li><p><strong>Embedder</strong>ï¼šæ–‡æœ¬&#x2F;å¤šæ¨¡æ€å‘é‡åŒ–</p>
</li>
<li><p><strong>Retriever</strong>ï¼šå‘é‡æ£€ç´¢</p>
</li>
<li><p><strong>Generator</strong>ï¼šå¤§æ¨¡å‹ç”Ÿæˆ</p>
</li>
</ul>
<h2 id="ä¸‰ã€å…¸å‹æµç¨‹"><a href="#ä¸‰ã€å…¸å‹æµç¨‹" class="headerlink" title="ä¸‰ã€å…¸å‹æµç¨‹"></a>ä¸‰ã€å…¸å‹æµç¨‹</h2><ol>
<li><p>æ•°æ®é¢„å¤„ç†ï¼ˆåˆ†å‰²ã€æ¸…æ´—ï¼‰</p>
</li>
<li><p>æ–‡æœ¬&#x2F;å¤šæ¨¡æ€å‘é‡åŒ–</p>
</li>
<li><p>å‘é‡å…¥åº“</p>
</li>
<li><p>æ£€ç´¢ç›¸å…³å†…å®¹</p>
</li>
<li><p>ç»“åˆæ£€ç´¢ç»“æœç”Ÿæˆç­”æ¡ˆ</p>
</li>
</ol>
<h2 id="å››ã€RAGFlow-æ¡†æ¶ä½¿ç”¨"><a href="#å››ã€RAGFlow-æ¡†æ¶ä½¿ç”¨" class="headerlink" title="å››ã€RAGFlow æ¡†æ¶ä½¿ç”¨"></a>å››ã€RAGFlow æ¡†æ¶ä½¿ç”¨</h2><h3 id="Python-API-ç¤ºä¾‹"><a href="#Python-API-ç¤ºä¾‹" class="headerlink" title="Python API ç¤ºä¾‹"></a>Python API ç¤ºä¾‹</h3><h4 id="åˆå§‹åŒ–-RAG-Flow"><a href="#åˆå§‹åŒ–-RAG-Flow" class="headerlink" title="åˆå§‹åŒ– RAG Flow"></a>åˆå§‹åŒ– RAG Flow</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rag_object = RAGFlow(api_key=<span class="string">&quot;YOUR_API_KEY&quot;</span>, base_url=<span class="string">&quot;YOUR_BASE_URL&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­æºä»£ç ä¸ºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, api_key, base_url, version=<span class="string">&quot;v1&quot;</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    api_url: http://&lt;host_address&gt;/api/v1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="variable language_">self</span>.user_key = api_key</span><br><span class="line">    <span class="variable language_">self</span>.api_url = <span class="string">f&quot;<span class="subst">&#123;base_url&#125;</span>/api/<span class="subst">&#123;version&#125;</span>&quot;</span></span><br><span class="line">    <span class="variable language_">self</span>.authorization_header = &#123;<span class="string">&quot;Authorization&quot;</span>: <span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;Bearer&quot;</span>, <span class="variable language_">self</span>.user_key)&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç è§£é‡Šï¼š</p>
<ul>
<li><code>api_key</code>ï¼šç”¨æˆ· API å¯†é’¥ï¼Œç”¨äºèº«ä»½éªŒè¯ã€‚</li>
<li><code>base_url</code>ï¼šRAG Flow æœåŠ¡å™¨çš„ URLã€‚</li>
<li><code>version</code>ï¼šAPI ç‰ˆæœ¬ï¼Œé»˜è®¤ä¸º <code>v1</code>ã€‚</li>
</ul>
<p>ä¸Šè¿°ä»£ç ä¸»è¦å®Œæˆçš„å·¥ä½œæ˜¯ï¼š åˆå§‹åŒ– RAG Flow å®¢æˆ·ç«¯ã€‚åæœŸçš„æ‰€æœ‰æ“ä½œï¼Œæˆ‘ä»¬éƒ½æ˜¯é€šè¿‡å¯¹åˆ›å»ºå¥½çš„ RAG Flow å¯¹è±¡ï¼Œè°ƒç”¨å¯¹åº”çš„ selfï¼ˆç›¸å½“äº Java ä¸­çš„ thisï¼‰æˆå‘˜æ–¹æ³•æ¥æ“ä½œçš„ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><p><code>create_dataset</code>ï¼šåˆ›å»ºæ•°æ®é›†ã€‚</p>
</li>
<li><p><code>list_datasets</code>ï¼šåˆ—å‡ºæ•°æ®é›†ã€‚ </p>
</li>
<li><p><code>delete_dataset</code>ï¼šåˆ é™¤æ•°æ®é›†ã€‚</p>
</li>
<li><p><code>create_chat</code>ï¼šåˆ›å»ºä¼šè¯ã€‚</p>
</li>
</ul>
<p>ç­‰ç­‰ã€‚</p>
<h4 id="çŸ¥è¯†åº“-dataset-ç®¡ç†ç›¸å…³API"><a href="#çŸ¥è¯†åº“-dataset-ç®¡ç†ç›¸å…³API" class="headerlink" title="çŸ¥è¯†åº“(dataset)ç®¡ç†ç›¸å…³API"></a>çŸ¥è¯†åº“(dataset)ç®¡ç†ç›¸å…³API</h4><h5 id="åˆ›å»ºä¸åŒç²’åº¦çš„æ•°æ®é›†"><a href="#åˆ›å»ºä¸åŒç²’åº¦çš„æ•°æ®é›†" class="headerlink" title="åˆ›å»ºä¸åŒç²’åº¦çš„æ•°æ®é›†"></a>åˆ›å»ºä¸åŒç²’åº¦çš„æ•°æ®é›†</h5><p><strong>æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œå¯¹äº RAG Flow çš„å‰ç«¯é¡µé¢ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰ <code>Knowledge Base</code>ï¼Œåˆ©ç”¨å‰ç«¯åˆ›å»ºçŸ¥è¯†åº“æ—¶ï¼Œä¼šæ˜¾ç¤ºé…ç½®çŸ¥è¯†åº“ï¼Œæ­¤æ—¶å°±éœ€è¦å¡«å†™ä¸€äº›å†…å®¹ï¼Œè€Œè¿™äº›å†…å®¹ï¼Œåˆšå¥½å¯¹åº”äºä»£ç ä¸­çš„ã€Œæ•°æ®é›† datesetã€æ‰€ä»¥ï¼Œä¸ªäººè®¤ä¸ºï¼Œå¯ä»¥å°†ä»£ç ä¸­çš„ dataset ç†è§£ä¸ºçŸ¥è¯†åº“ã€‚</strong></p>
<p>çŸ¥è¯†åº“å°±æ˜¯æ•°æ®é›†ã€‚</p>
<p><a href="/images/%E7%9F%A5%E8%AF%86%E5%BA%93%E5%B0%B1%E6%98%AF%E6%95%B0%E6%8D%AE%E9%9B%86.png" title="çŸ¥è¯†åº“å°±æ˜¯æ•°æ®é›†" class="gallery-item" style="box-shadow: none;"> <img src="/images/%E7%9F%A5%E8%AF%86%E5%BA%93%E5%B0%B1%E6%98%AF%E6%95%B0%E6%8D%AE%E9%9B%86.png" alt="çŸ¥è¯†åº“å°±æ˜¯æ•°æ®é›†"></a></p>
<p>å› æ­¤ï¼Œä¸‹æ–¹ä»£ç ä¸­çš„åˆ›å»ºæ•°æ®é›†ï¼Œå°±æ˜¯é¡µé¢ä¸Šçš„åˆ›å»ºçŸ¥è¯†åº“ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">create_dataset</span>(<span class="params"></span></span><br><span class="line"><span class="params">    self,</span></span><br><span class="line"><span class="params">    name: <span class="built_in">str</span>,</span></span><br><span class="line"><span class="params">    avatar: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    description: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    embedding_model: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="string">&quot;BAAI/bge-large-zh-v1.5@BAAI&quot;</span>,</span></span><br><span class="line"><span class="params">    permission: <span class="built_in">str</span> = <span class="string">&quot;me&quot;</span>,</span></span><br><span class="line"><span class="params">    chunk_method: <span class="built_in">str</span> = <span class="string">&quot;naive&quot;</span>,</span></span><br><span class="line"><span class="params">    parser_config: <span class="type">Optional</span>[DataSet.ParserConfig] = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params"></span>) -&gt; DataSet:</span><br><span class="line">    payload = &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: name,</span><br><span class="line">        <span class="string">&quot;avatar&quot;</span>: avatar,</span><br><span class="line">        <span class="string">&quot;description&quot;</span>: description,</span><br><span class="line">        <span class="string">&quot;embedding_model&quot;</span>: embedding_model,</span><br><span class="line">        <span class="string">&quot;permission&quot;</span>: permission,</span><br><span class="line">        <span class="string">&quot;chunk_method&quot;</span>: chunk_method,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> parser_config <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        payload[<span class="string">&quot;parser_config&quot;</span>] = parser_config.to_json()</span><br><span class="line"></span><br><span class="line">    res = <span class="variable language_">self</span>.post(<span class="string">&quot;/datasets&quot;</span>, payload)</span><br><span class="line">    res = res.json()</span><br><span class="line">    <span class="keyword">if</span> res.get(<span class="string">&quot;code&quot;</span>) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> DataSet(<span class="variable language_">self</span>, res[<span class="string">&quot;data&quot;</span>])</span><br><span class="line">    <span class="keyword">raise</span> Exception(res[<span class="string">&quot;message&quot;</span>])</span><br></pre></td></tr></table></figure>

<h5 id="åˆ›å»ºä¸åŒåˆ†å—æ–¹æ³•çš„æ•°æ®é›†"><a href="#åˆ›å»ºä¸åŒåˆ†å—æ–¹æ³•çš„æ•°æ®é›†" class="headerlink" title="åˆ›å»ºä¸åŒåˆ†å—æ–¹æ³•çš„æ•°æ®é›†"></a>åˆ›å»ºä¸åŒåˆ†å—æ–¹æ³•çš„æ•°æ®é›†</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">create_dataset_example</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;åˆ›å»ºæ•°æ®é›†çš„ç¤ºä¾‹&quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;=== åˆ›å»ºæ•°æ®é›†ç¤ºä¾‹ ===&quot;</span>)</span><br><span class="line">    created_datasets = []</span><br><span class="line">    chunk_methods = [</span><br><span class="line">        <span class="string">&quot;naive&quot;</span>,</span><br><span class="line">        <span class="string">&quot;manual&quot;</span>,</span><br><span class="line">        <span class="string">&quot;qa&quot;</span>,</span><br><span class="line">        <span class="string">&quot;table&quot;</span>,</span><br><span class="line">        <span class="string">&quot;paper&quot;</span>,</span><br><span class="line">        <span class="string">&quot;book&quot;</span>,</span><br><span class="line">        <span class="string">&quot;laws&quot;</span>,</span><br><span class="line">        <span class="string">&quot;presentation&quot;</span>,</span><br><span class="line">        <span class="string">&quot;picture&quot;</span>,</span><br><span class="line">        <span class="string">&quot;one&quot;</span>,</span><br><span class="line">        <span class="string">&quot;email&quot;</span>,</span><br><span class="line">    ]</span><br><span class="line">    <span class="keyword">for</span> method <span class="keyword">in</span> chunk_methods:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            dataset = <span class="variable language_">self</span>.rag_object.create_dataset(</span><br><span class="line">                name=<span class="string">f&quot;kb_<span class="subst">&#123;method&#125;</span>_<span class="subst">&#123;<span class="built_in">int</span>(time.time())&#125;</span>&quot;</span>,</span><br><span class="line">                description=<span class="string">f&quot;ä½¿ç”¨ <span class="subst">&#123;method&#125;</span> åˆ†å—æ–¹æ³•çš„æ•°æ®é›†&quot;</span>,</span><br><span class="line">                chunk_method=method,</span><br><span class="line">                embedding_model=<span class="string">&quot;BAAI/bge-large-zh-v1.5@BAAI&quot;</span>,</span><br><span class="line">                permission=<span class="string">&quot;me&quot;</span>,</span><br><span class="line">            )</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;åˆ›å»º<span class="subst">&#123;method&#125;</span>æ•°æ®é›†: <span class="subst">&#123;dataset.name&#125;</span> (ID: <span class="subst">&#123;dataset.<span class="built_in">id</span>&#125;</span>)&quot;</span>)</span><br><span class="line">            created_datasets.append(dataset)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;åˆ›å»º<span class="subst">&#123;method&#125;</span>æ•°æ®é›†å¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> created_datasets</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°æ–¹æ³•ï¼Œä¼šåˆ›å»º 11 ä¸ªæ•°æ®é›†ï¼Œåˆ†åˆ«ä½¿ç”¨ä¸åŒçš„åˆ†å—æ–¹æ³•ï¼Œè¿™äº›åˆ†å—æ–¹æ³•ç”¨äºå¸¸è§çš„æ–‡æ¡£ç±»å‹ï¼Œæ¯”å¦‚ï¼š<br>ä»¥ä¸‹æ˜¯ <strong>RAGFlow æ¡†æ¶ä¸­çš„ <code>chunk_methods</code></strong> çš„åˆ†ç±»åŠæ¯ç§åˆ†å—æ–¹æ³•çš„ç®€å•ä»‹ç»ï¼Œç»“åˆå…¶é€‚ç”¨åœºæ™¯å’Œç‰¹ç‚¹ï¼š</p>
<hr>
<ol>
<li><strong><code>naive</code>ï¼ˆé€šç”¨åˆ†å—ï¼‰</strong><br><strong>ç‰¹ç‚¹</strong>ï¼š</li>
</ol>
<ul>
<li>é»˜è®¤åˆ†å—æ–¹æ³•ï¼Œé€‚åˆå¤„ç†å¸¸è§„æ–‡æœ¬ã€‚</li>
<li>ä½¿ç”¨è‡ªç„¶åˆ†éš”ç¬¦ï¼ˆå¦‚æ¢è¡Œç¬¦ã€æ ‡ç‚¹ç¬¦å·ï¼‰åˆ‡åˆ†ï¼ŒåŒæ—¶æ§åˆ¶å—å¤§å°ï¼ˆé€šå¸¸ä¸è¶…è¿‡æŒ‡å®šçš„ Token æ•°ï¼‰ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>é€šç”¨æ–‡æ¡£ï¼Œå¦‚æ”¿ç­–æ–‡ä»¶ã€äº§å“è¯´æ˜ç­‰æ ¼å¼è¾ƒè§„èŒƒçš„æ–‡æœ¬ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>ç®€å•é«˜æ•ˆï¼Œæ— éœ€å¤æ‚é…ç½®ã€‚</li>
</ul>
<hr>
<ol>
<li><strong><code>manual</code>ï¼ˆæ‰‹åŠ¨åˆ†å—ï¼‰</strong><br><strong>ç‰¹ç‚¹</strong>ï¼š</li>
</ol>
<ul>
<li>ä»…æ”¯æŒ PDF æ ¼å¼ï¼Œå‡è®¾æ–‡æ¡£å…·æœ‰åˆ†å±‚ç»“æ„ï¼ˆå¦‚ç« èŠ‚æ ‡é¢˜ï¼‰ã€‚</li>
<li>ä½¿ç”¨æœ€ä½çº§åˆ«çš„æ ‡é¢˜ä½œä¸ºåˆ‡ç‰‡åŸºå‡†ï¼Œä¿ç•™ç« èŠ‚å†…çš„å›¾è¡¨å’Œè¡¨æ ¼å®Œæ•´æ€§ï¼Œå—å¤§å°å¯èƒ½è¾ƒå¤§ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>æ‰‹å†Œç±»æ–‡æ¡£ï¼Œå¦‚è®¾å¤‡æ‰‹å†Œã€æŠ€æœ¯è§„èŒƒç­‰ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¿ç•™ç« èŠ‚å†…å®¹å®Œæ•´æ€§ï¼Œé€‚åˆé€»è¾‘ç´§å¯†çš„æ–‡æ¡£ã€‚</li>
</ul>
<hr>
<ol start="3">
<li><strong><code>qa</code>ï¼ˆé—®ç­”æ ¼å¼åˆ†å—ï¼‰</strong><br><strong>ç‰¹ç‚¹</strong>ï¼š</li>
</ol>
<ul>
<li>ä¸“ç”¨äºé—®ç­”å¯¹æ ¼å¼çš„æ–‡æ¡£ã€‚</li>
<li>å¦‚æœæ˜¯ Excel æ–‡ä»¶ï¼Œéœ€ä¸¤åˆ—åˆ†åˆ«å­˜å‚¨é—®é¢˜å’Œç­”æ¡ˆï¼›å¦‚æœæ˜¯ CSV&#x2F;TXT æ–‡ä»¶ï¼Œä»¥ TAB åˆ†éš”é—®é¢˜å’Œç­”æ¡ˆã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>é—®ç­”å¯¹å½¢å¼çš„çŸ¥è¯†åº“ï¼Œä¾‹å¦‚å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>é€‚åˆé—®ç­”åœºæ™¯ï¼Œæ£€ç´¢ç²¾å‡†ã€‚</li>
</ul>
<hr>
<ol start="4">
<li><strong><code>table</code>ï¼ˆè¡¨æ ¼åˆ†å—ï¼‰</strong><br><strong>ç‰¹ç‚¹</strong>ï¼š</li>
</ol>
<ul>
<li>ä¸“ç”¨äºè¡¨æ ¼æ•°æ®ï¼Œå°†è¡¨ä¸­æ¯ä¸€è¡Œä½œä¸ºä¸€ä¸ªå—ã€‚</li>
<li>æ”¯æŒ CSVã€TXT å’Œ Excel æ–‡ä»¶ï¼Œåˆ—æ ‡é¢˜å¿…é¡»æœ‰æ„ä¹‰ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>è¡¨æ ¼æ•°æ®ï¼Œå¦‚ç»Ÿè®¡æŠ¥è¡¨ã€æ•°æ®åº“å¯¼å‡ºæ–‡ä»¶ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¿ç•™è¡¨æ ¼ç»“æ„ï¼Œæ”¯æŒè¡Œåˆ—æ£€ç´¢ã€‚</li>
</ul>
<hr>
<ol start="5">
<li><strong><code>paper</code>ï¼ˆè®ºæ–‡åˆ†å—ï¼‰</strong><br><strong>ç‰¹ç‚¹</strong>ï¼š</li>
</ol>
<ul>
<li>ä¸“ç”¨äºå­¦æœ¯è®ºæ–‡ï¼ŒæŒ‰è®ºæ–‡ç« èŠ‚ï¼ˆå¦‚æ‘˜è¦ã€å¼•è¨€ã€æ–¹æ³•ç­‰ï¼‰åˆ‡åˆ†ã€‚</li>
<li>å¢å¼ºè®ºæ–‡çš„ç»“æ„åŒ–æ£€ç´¢èƒ½åŠ›ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>PDF æ ¼å¼çš„å­¦æœ¯è®ºæ–‡ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>æé«˜è®ºæ–‡æ£€ç´¢å’Œå¼•ç”¨ç²¾åº¦ï¼Œä½†è®¡ç®—æˆæœ¬è¾ƒé«˜ã€‚</li>
</ul>
<hr>
<ol start="6">
<li><strong><code>book</code>ï¼ˆä¹¦ç±åˆ†å—ï¼‰</strong><br><strong>ç‰¹ç‚¹</strong>ï¼š</li>
</ol>
<ul>
<li>ä¸“ç”¨äºä¹¦ç±æ–‡æ¡£ï¼Œæ”¯æŒæŒ‰ç« èŠ‚æˆ–é¡µé¢èŒƒå›´åˆ‡åˆ†ã€‚</li>
<li>å—å¤§å°å¯è°ƒæ•´ï¼Œé€‚åˆé•¿æ–‡æ¡£ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>ä¹¦ç±æˆ–é•¿ç¯‡æ–‡æ¡£ï¼Œå¦‚å°è¯´ã€æŠ€æœ¯ä¹¦ç±ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¿ç•™ä¹¦ç±é€»è¾‘ç»“æ„ï¼Œé€‚åˆå…¨æ–‡æ£€ç´¢ã€‚</li>
</ul>
<hr>
<ol start="7">
<li><strong><code>laws</code>ï¼ˆæ³•å¾‹åˆ†å—ï¼‰</strong><br><strong>ç‰¹ç‚¹</strong>ï¼š</li>
</ol>
<ul>
<li>ä¸“ç”¨äºæ³•å¾‹æ–‡ä»¶ï¼Œåˆ©ç”¨æ–‡æœ¬ç‰¹å¾ï¼ˆå¦‚æ¡æ¬¾å·ï¼‰åˆ‡åˆ†ã€‚</li>
<li>å—ç²’åº¦é€šå¸¸ä¸æ¡æ¬¾ä¸€è‡´ï¼ŒåŒ…å«ç›¸å…³ä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>åˆåŒã€æ³•å¾‹æ³•è§„æ–‡ä»¶ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>æ£€ç´¢ç²¾å‡†ï¼Œé€‚é…æ³•å¾‹æ–‡ä»¶çš„ä¸¥æ ¼æ ¼å¼ã€‚</li>
</ul>
<hr>
<ol start="8">
<li><strong><code>presentation</code>ï¼ˆæ¼”ç¤ºæ–‡ç¨¿åˆ†å—ï¼‰</strong><br><strong>ç‰¹ç‚¹</strong>ï¼š</li>
</ol>
<ul>
<li>ä¸“ç”¨äº PPT æˆ– PDF æ ¼å¼çš„æ¼”ç¤ºæ–‡ç¨¿ã€‚</li>
<li>æ¯é¡µå¹»ç¯ç‰‡ä½œä¸ºä¸€ä¸ªå—ï¼ŒåŒæ—¶å­˜å‚¨ç¼©ç•¥å›¾ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å¹»ç¯ç‰‡æ–‡ä»¶ï¼Œå¦‚æŠ¥å‘Šã€æ¼”ç¤ºææ–™ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¿ç•™å¹»ç¯ç‰‡ç»“æ„ï¼Œæ”¯æŒè§†è§‰åŒ–æ£€ç´¢ã€‚</li>
</ul>
<hr>
<ol start="9">
<li><strong><code>picture</code>ï¼ˆå›¾ç‰‡åˆ†å—ï¼‰</strong><br><strong>ç‰¹ç‚¹</strong>ï¼š</li>
</ol>
<ul>
<li>ä¸“ç”¨äºå›¾ç‰‡æ–‡æ¡£ï¼Œæ”¯æŒ OCRï¼ˆæ–‡å­—è¯†åˆ«ï¼‰å’Œå¸ƒå±€åˆ†æã€‚</li>
<li>å›¾ç‰‡ä¸­çš„æ–‡å­—å’Œæ ‡é¢˜è¢«è¯†åˆ«åä½œä¸ºå—å¤„ç†ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å›¾ç‰‡æˆ–æ‰«æä»¶ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>å¯å¤„ç†éç»“æ„åŒ–å›¾ç‰‡æ–‡æ¡£ï¼Œæ”¯æŒå›¾æ–‡æ£€ç´¢ã€‚</li>
</ul>
<hr>
<ol start="10">
<li><strong><code>one</code>ï¼ˆå•ä¸€æ–‡æ¡£å—ï¼‰</strong><br><strong>ç‰¹ç‚¹</strong>ï¼š</li>
</ol>
<ul>
<li>å°†æ•´ä¸ªæ–‡æ¡£ä½œä¸ºä¸€ä¸ªå—å¤„ç†ï¼Œä¸è¿›è¡Œåˆ†å‰²ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>çŸ­æ–‡æ¡£æˆ–éœ€è¦å…¨æ–‡æ£€ç´¢çš„åœºæ™¯ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¿ç•™æ–‡æ¡£å®Œæ•´æ€§ï¼Œé€‚åˆå…¨æ–‡æ£€ç´¢ã€‚</li>
</ul>
<hr>
<ol start="11">
<li><strong><code>email</code>ï¼ˆç”µå­é‚®ä»¶åˆ†å—ï¼‰</strong><br><strong>ç‰¹ç‚¹</strong>ï¼š</li>
</ol>
<ul>
<li>ä¸“ç”¨äºé‚®ä»¶æ–‡ä»¶ï¼Œè§£æé‚®ä»¶å†…å®¹å¹¶æŒ‰é‚®ä»¶ä¸»é¢˜æˆ–æ®µè½åˆ‡åˆ†ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>ç”µå­é‚®ä»¶æˆ–é‚®ä»¶å­˜æ¡£ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>æå–é‚®ä»¶å…³é”®ä¿¡æ¯ï¼Œä¾¿äºé‚®ä»¶æ£€ç´¢ã€‚</li>
</ul>
<hr>
<h5 id="åˆ—å‡ºæ•°æ®é›†"><a href="#åˆ—å‡ºæ•°æ®é›†" class="headerlink" title="åˆ—å‡ºæ•°æ®é›†"></a>åˆ—å‡ºæ•°æ®é›†</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">list_datasets</span>(<span class="params">self, page: <span class="built_in">int</span> = <span class="number">1</span>, page_size: <span class="built_in">int</span> = <span class="number">30</span>, orderby: <span class="built_in">str</span> = <span class="string">&quot;create_time&quot;</span>, desc: <span class="built_in">bool</span> = <span class="literal">True</span>, <span class="built_in">id</span>: <span class="built_in">str</span> | <span class="literal">None</span> = <span class="literal">None</span>, name: <span class="built_in">str</span> | <span class="literal">None</span> = <span class="literal">None</span></span>) -&gt; <span class="built_in">list</span>[DataSet]:</span><br><span class="line">    res = <span class="variable language_">self</span>.get(</span><br><span class="line">        <span class="string">&quot;/datasets&quot;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;page&quot;</span>: page,</span><br><span class="line">            <span class="string">&quot;page_size&quot;</span>: page_size,</span><br><span class="line">            <span class="string">&quot;orderby&quot;</span>: orderby,</span><br><span class="line">            <span class="string">&quot;desc&quot;</span>: desc,</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="built_in">id</span>,</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: name,</span><br><span class="line">        &#125;,</span><br><span class="line">    )</span><br><span class="line">    res = res.json()</span><br><span class="line">    result_list = []</span><br><span class="line">    <span class="keyword">if</span> res.get(<span class="string">&quot;code&quot;</span>) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> data <span class="keyword">in</span> res[<span class="string">&quot;data&quot;</span>]:</span><br><span class="line">            result_list.append(DataSet(<span class="variable language_">self</span>, data))</span><br><span class="line">        <span class="keyword">return</span> result_list</span><br><span class="line">    <span class="keyword">raise</span> Exception(res[<span class="string">&quot;message&quot;</span>])</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°æ–¹æ³•ç”¨äºåˆ—å‡ºæ•°æ®é›†ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰æ•°æ®é›†çš„åˆ—è¡¨ã€‚</p>
<p>å…¶å¯é€‰çš„æŸ¥è¯¢å‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>page: é¡µç ï¼Œé»˜è®¤ä¸º1</p>
</li>
<li><p>page_size: æ¯é¡µæ•°é‡ï¼Œé»˜è®¤30</p>
</li>
<li><p>orderby: æ’åºå­—æ®µï¼Œé»˜è®¤ä¸ºcreate_time</p>
</li>
<li><p>desc: æ˜¯å¦å€’åºï¼Œé»˜è®¤True</p>
</li>
<li><p>id: æ•°æ®é›†ID <strong>æ³¨æ„ï¼Œè¿™é‡Œå­˜åœ¨ä¸€ä¸ªæƒé™é—®é¢˜ï¼Œå¯¹äºå¡«äº† me æƒé™çš„ï¼Œå›¢é˜Ÿçš„å…¶ä»–ç”¨æˆ·æ˜¯æ— æ³•æœç´¢åˆ°çš„ï¼Œå“ªæ€•IDæ­£ç¡®ã€‚</strong></p>
</li>
<li><p>name: æ•°æ®é›†åç§°</p>
</li>
</ul>
<ol>
<li><p>æŸ¥è¯¢æ‰€æœ‰æ•°æ®é›†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. åˆ—å‡ºæ‰€æœ‰æ•°æ®é›†</span></span><br><span class="line">all_datasets = <span class="variable language_">self</span>.rag_object.list_datasets()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;æ€»å…±æœ‰<span class="subst">&#123;<span class="built_in">len</span>(all_datasets)&#125;</span> ä¸ªæ•°æ®é›†:&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> dataset <span class="keyword">in</span> all_datasets:</span><br><span class="line">    <span class="built_in">print</span>(</span><br><span class="line">        <span class="string">f&quot;  - <span class="subst">&#123;dataset.name&#125;</span> (ID: <span class="subst">&#123;dataset.<span class="built_in">id</span>&#125;</span>, åˆ›å»ºæ—¶é—´: <span class="subst">&#123;<span class="built_in">getattr</span>(dataset, <span class="string">&#x27;create_time&#x27;</span>, <span class="string">&#x27;N/A&#x27;</span>)&#125;</span>)&quot;</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‡å®šé¡µç¼–ç ä»¥åŠé¡µæ•°ï¼Œåˆ†é¡µæŸ¥è¯¢æ•°æ®é›†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2. åˆ†é¡µåˆ—å‡ºæ•°æ®é›†</span></span><br><span class="line">page_datasets = <span class="variable language_">self</span>.rag_object.list_datasets(page=<span class="number">1</span>, page_size=<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;\nç¬¬ä¸€é¡µæ•°æ®é›† (æ¯é¡µ5ä¸ª):&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> dataset <span class="keyword">in</span> page_datasets:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;  - <span class="subst">&#123;dataset.name&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‰æ›´æ–°æ—¶é—´æ’åºæŸ¥è¯¢æ•°æ®é›†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">time_sorted_datasets = <span class="variable language_">self</span>.rag_object.list_datasets(</span><br><span class="line">    orderby=<span class="string">&quot;update_time&quot;</span>, desc=<span class="literal">True</span></span><br><span class="line">)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\næŒ‰æ›´æ–°æ—¶é—´æ’åºçš„æ•°æ®é›†:&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> dataset <span class="keyword">in</span> time_sorted_datasets[:<span class="number">3</span>]:  <span class="comment"># åªæ˜¾ç¤ºå‰3ä¸ª</span></span><br><span class="line">    <span class="built_in">print</span>(</span><br><span class="line">        <span class="string">f&quot;  - <span class="subst">&#123;dataset.name&#125;</span> (æ›´æ–°æ—¶é—´: <span class="subst">&#123;<span class="built_in">getattr</span>(dataset, <span class="string">&#x27;update_time&#x27;</span>, <span class="string">&#x27;N/A&#x27;</span>)&#125;</span>)&quot;</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
</li>
<li><p>éå†æ‰€æœ‰æ•°æ®é›†ï¼Œæ£€æŸ¥æƒé™</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 4. éå†æ‰€æœ‰æ•°æ®é›†ï¼Œåˆ†åˆ«è¾“å‡ºæœ‰æƒé™å’Œæ— æƒé™çš„æ•°æ®é›†</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n=== éå†æ‰€æœ‰æ•°æ®é›†ï¼Œæ£€æŸ¥æƒé™ ===&quot;</span>)</span><br><span class="line">has_permission = []</span><br><span class="line">no_permission = []</span><br><span class="line"><span class="keyword">for</span> dataset <span class="keyword">in</span> all_datasets:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># å°è¯•ç”¨IDæŸ¥æ‰¾ï¼Œèƒ½æŸ¥åˆ°è¯´æ˜æœ‰æƒé™</span></span><br><span class="line">        <span class="variable language_">self</span>.rag_object.list_datasets(<span class="built_in">id</span>=dataset.<span class="built_in">id</span>)</span><br><span class="line">        has_permission.append(dataset.name)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        no_permission.append(dataset.name)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;\nå½“å‰ç”¨æˆ·æœ‰æƒé™çš„æ•°æ®é›†: <span class="subst">&#123;has_permission&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;å½“å‰ç”¨æˆ·æ— æƒé™çš„æ•°æ®é›†: <span class="subst">&#123;no_permission&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="æ›´æ–°æ•°æ®é›†"><a href="#æ›´æ–°æ•°æ®é›†" class="headerlink" title="æ›´æ–°æ•°æ®é›†"></a>æ›´æ–°æ•°æ®é›†</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">update_dataset_example</span>(<span class="params">self, dataset_id: <span class="built_in">str</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;æ›´æ–°æ•°æ®é›†çš„ç¤ºä¾‹&quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;\n=== æ›´æ–°æ•°æ®é›†ç¤ºä¾‹ (ID: <span class="subst">&#123;dataset_id&#125;</span>) ===&quot;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># æ›´æ–°æ•°æ®é›†åç§°å’Œæè¿°</span></span><br><span class="line">        update_message = &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;updated_kb&quot;</span>,</span><br><span class="line">            <span class="string">&quot;description&quot;</span>: <span class="string">&quot;å·²æ›´æ–°çš„çŸ¥è¯†åº“æ•°æ®é›†&quot;</span>,</span><br><span class="line">            <span class="string">&quot;embedding_model&quot;</span>: <span class="string">&quot;text-embedding-v2&quot;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># è·å–æ•°æ®é›†å¯¹è±¡</span></span><br><span class="line">        datasets = <span class="variable language_">self</span>.rag_object.list_datasets(<span class="built_in">id</span>=dataset_id)</span><br><span class="line">        <span class="keyword">if</span> datasets:</span><br><span class="line">            dataset = datasets[<span class="number">0</span>]</span><br><span class="line">            dataset.update(update_message)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;æ•°æ®é›†æ›´æ–°æˆåŠŸ: <span class="subst">&#123;dataset.name&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="comment"># éªŒè¯æ›´æ–°ç»“æœ</span></span><br><span class="line">            updated_datasets = <span class="variable language_">self</span>.rag_object.list_datasets(<span class="built_in">id</span>=dataset_id)</span><br><span class="line">            <span class="keyword">if</span> updated_datasets:</span><br><span class="line">                updated_dataset = updated_datasets[<span class="number">0</span>]</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;æ›´æ–°åçš„æ•°æ®é›†ä¿¡æ¯:&quot;</span>)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;  åç§°: <span class="subst">&#123;updated_dataset.name&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;  æè¿°: <span class="subst">&#123;updated_dataset.description&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;  åµŒå…¥æ¨¡å‹: <span class="subst">&#123;updated_dataset.embedding_model&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;æœªæ‰¾åˆ°IDä¸º <span class="subst">&#123;dataset_id&#125;</span> çš„æ•°æ®é›†&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;æ›´æ–°æ•°æ®é›†å¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="åˆ é™¤æ•°æ®é›†"><a href="#åˆ é™¤æ•°æ®é›†" class="headerlink" title="åˆ é™¤æ•°æ®é›†"></a>åˆ é™¤æ•°æ®é›†</h5><h5 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DatasetManager</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, api_key: <span class="built_in">str</span>, base_url: <span class="built_in">str</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆå§‹åŒ–RAGFlowå®¢æˆ·ç«¯&quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.rag_object = RAGFlow(api_key=api_key, base_url=base_url)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">create_dataset_example</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆ›å»ºæ•°æ®é›†çš„ç¤ºä¾‹&quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;=== åˆ›å»ºæ•°æ®é›†ç¤ºä¾‹ ===&quot;</span>)</span><br><span class="line">        created_datasets = []</span><br><span class="line">        chunk_methods = [</span><br><span class="line">            <span class="string">&quot;naive&quot;</span>,</span><br><span class="line">            <span class="string">&quot;manual&quot;</span>,</span><br><span class="line">            <span class="string">&quot;qa&quot;</span>,</span><br><span class="line">            <span class="string">&quot;table&quot;</span>,</span><br><span class="line">            <span class="string">&quot;paper&quot;</span>,</span><br><span class="line">            <span class="string">&quot;book&quot;</span>,</span><br><span class="line">            <span class="string">&quot;laws&quot;</span>,</span><br><span class="line">            <span class="string">&quot;presentation&quot;</span>,</span><br><span class="line">            <span class="string">&quot;picture&quot;</span>,</span><br><span class="line">            <span class="string">&quot;one&quot;</span>,</span><br><span class="line">            <span class="string">&quot;email&quot;</span>,</span><br><span class="line">        ]</span><br><span class="line">        <span class="keyword">for</span> method <span class="keyword">in</span> chunk_methods:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                dataset = <span class="variable language_">self</span>.rag_object.create_dataset(</span><br><span class="line">                    name=<span class="string">f&quot;kb_<span class="subst">&#123;method&#125;</span>_<span class="subst">&#123;<span class="built_in">int</span>(time.time())&#125;</span>&quot;</span>,</span><br><span class="line">                    description=<span class="string">f&quot;ä½¿ç”¨ <span class="subst">&#123;method&#125;</span> åˆ†å—æ–¹æ³•çš„æ•°æ®é›†&quot;</span>,</span><br><span class="line">                    chunk_method=method,</span><br><span class="line">                    embedding_model=<span class="string">&quot;BAAI/bge-large-zh-v1.5@BAAI&quot;</span>,</span><br><span class="line">                    permission=<span class="string">&quot;me&quot;</span>,</span><br><span class="line">                )</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;åˆ›å»º<span class="subst">&#123;method&#125;</span>æ•°æ®é›†: <span class="subst">&#123;dataset.name&#125;</span> (ID: <span class="subst">&#123;dataset.<span class="built_in">id</span>&#125;</span>)&quot;</span>)</span><br><span class="line">                created_datasets.append(dataset)</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;åˆ›å»º<span class="subst">&#123;method&#125;</span>æ•°æ®é›†å¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> created_datasets</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_get_parser_config</span>(<span class="params">self, chunk_method: <span class="built_in">str</span></span>) -&gt; <span class="type">Optional</span>[<span class="type">Any</span>]:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;æ ¹æ®åˆ†å—æ–¹æ³•è·å–è§£æå™¨é…ç½®&quot;&quot;&quot;</span></span><br><span class="line">        configs = &#123;</span><br><span class="line">            <span class="string">&quot;naive&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;chunk_token_num&quot;</span>: <span class="number">512</span>,</span><br><span class="line">                <span class="string">&quot;delimiter&quot;</span>: <span class="string">&quot;\n&quot;</span>,</span><br><span class="line">                <span class="string">&quot;html4excel&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">                <span class="string">&quot;layout_recognize&quot;</span>: <span class="literal">True</span>,</span><br><span class="line">                <span class="string">&quot;raptor&quot;</span>: &#123;<span class="string">&quot;use_raptor&quot;</span>: <span class="literal">False</span>&#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;qa&quot;</span>: &#123;<span class="string">&quot;raptor&quot;</span>: &#123;<span class="string">&quot;use_raptor&quot;</span>: <span class="literal">False</span>&#125;&#125;,</span><br><span class="line">            <span class="string">&quot;manual&quot;</span>: &#123;<span class="string">&quot;raptor&quot;</span>: &#123;<span class="string">&quot;use_raptor&quot;</span>: <span class="literal">False</span>&#125;&#125;,</span><br><span class="line">            <span class="string">&quot;table&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">            <span class="string">&quot;paper&quot;</span>: &#123;<span class="string">&quot;raptor&quot;</span>: &#123;<span class="string">&quot;use_raptor&quot;</span>: <span class="literal">False</span>&#125;&#125;,</span><br><span class="line">            <span class="string">&quot;book&quot;</span>: &#123;<span class="string">&quot;raptor&quot;</span>: &#123;<span class="string">&quot;use_raptor&quot;</span>: <span class="literal">False</span>&#125;&#125;,</span><br><span class="line">            <span class="string">&quot;laws&quot;</span>: &#123;<span class="string">&quot;raptor&quot;</span>: &#123;<span class="string">&quot;use_raptor&quot;</span>: <span class="literal">False</span>&#125;&#125;,</span><br><span class="line">            <span class="string">&quot;picture&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">            <span class="string">&quot;presentation&quot;</span>: &#123;<span class="string">&quot;raptor&quot;</span>: &#123;<span class="string">&quot;use_raptor&quot;</span>: <span class="literal">False</span>&#125;&#125;,</span><br><span class="line">            <span class="string">&quot;one&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">            <span class="string">&quot;knowledge-graph&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;chunk_token_num&quot;</span>: <span class="number">128</span>,</span><br><span class="line">                <span class="string">&quot;delimiter&quot;</span>: <span class="string">&quot;\n&quot;</span>,</span><br><span class="line">                <span class="string">&quot;entity_types&quot;</span>: [<span class="string">&quot;organization&quot;</span>, <span class="string">&quot;person&quot;</span>, <span class="string">&quot;location&quot;</span>, <span class="string">&quot;event&quot;</span>, <span class="string">&quot;time&quot;</span>],</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;email&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> configs.get(chunk_method)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">list_datasets_example</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆ—å‡ºæ•°æ®é›†çš„ç¤ºä¾‹&quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;\n=== åˆ—å‡ºæ•°æ®é›†ç¤ºä¾‹ ===&quot;</span>)</span><br><span class="line">        <span class="comment"># 1. åˆ—å‡ºæ‰€æœ‰æ•°æ®é›†</span></span><br><span class="line">        all_datasets = <span class="variable language_">self</span>.rag_object.list_datasets()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;æ€»å…±æœ‰<span class="subst">&#123;<span class="built_in">len</span>(all_datasets)&#125;</span> ä¸ªæ•°æ®é›†:&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> dataset <span class="keyword">in</span> all_datasets:</span><br><span class="line">            <span class="built_in">print</span>(</span><br><span class="line">                <span class="string">f&quot;  - <span class="subst">&#123;dataset.name&#125;</span> (ID: <span class="subst">&#123;dataset.<span class="built_in">id</span>&#125;</span>, åˆ›å»ºæ—¶é—´: <span class="subst">&#123;<span class="built_in">getattr</span>(dataset, <span class="string">&#x27;create_time&#x27;</span>, <span class="string">&#x27;N/A&#x27;</span>)&#125;</span>)&quot;</span></span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 2. åˆ†é¡µåˆ—å‡ºæ•°æ®é›†</span></span><br><span class="line">        page_datasets = <span class="variable language_">self</span>.rag_object.list_datasets(page=<span class="number">1</span>, page_size=<span class="number">5</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;\nç¬¬ä¸€é¡µæ•°æ®é›† (æ¯é¡µ5ä¸ª):&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> dataset <span class="keyword">in</span> page_datasets:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;  - <span class="subst">&#123;dataset.name&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="comment"># 3. æŒ‰æ›´æ–°æ—¶é—´æ’åº</span></span><br><span class="line">        time_sorted_datasets = <span class="variable language_">self</span>.rag_object.list_datasets(</span><br><span class="line">            orderby=<span class="string">&quot;update_time&quot;</span>, desc=<span class="literal">True</span></span><br><span class="line">        )</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;\næŒ‰æ›´æ–°æ—¶é—´æ’åºçš„æ•°æ®é›†:&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> dataset <span class="keyword">in</span> time_sorted_datasets[:<span class="number">3</span>]:  <span class="comment"># åªæ˜¾ç¤ºå‰3ä¸ª</span></span><br><span class="line">            <span class="built_in">print</span>(</span><br><span class="line">                <span class="string">f&quot;  - <span class="subst">&#123;dataset.name&#125;</span> (æ›´æ–°æ—¶é—´: <span class="subst">&#123;<span class="built_in">getattr</span>(dataset, <span class="string">&#x27;update_time&#x27;</span>, <span class="string">&#x27;N/A&#x27;</span>)&#125;</span>)&quot;</span></span><br><span class="line">            )</span><br><span class="line">        <span class="comment"># 4. éå†æ‰€æœ‰æ•°æ®é›†ï¼Œåˆ†åˆ«è¾“å‡ºæœ‰æƒé™å’Œæ— æƒé™çš„æ•°æ®é›†</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;\n=== éå†æ‰€æœ‰æ•°æ®é›†ï¼Œæ£€æŸ¥æƒé™ ===&quot;</span>)</span><br><span class="line">        has_permission = []</span><br><span class="line">        no_permission = []</span><br><span class="line">        <span class="keyword">for</span> dataset <span class="keyword">in</span> all_datasets:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                <span class="comment"># å°è¯•ç”¨IDæŸ¥æ‰¾ï¼Œèƒ½æŸ¥åˆ°è¯´æ˜æœ‰æƒé™</span></span><br><span class="line">                <span class="variable language_">self</span>.rag_object.list_datasets(<span class="built_in">id</span>=dataset.<span class="built_in">id</span>)</span><br><span class="line">                has_permission.append(dataset.name)</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                no_permission.append(dataset.name)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;\nå½“å‰ç”¨æˆ·æœ‰æƒé™çš„æ•°æ®é›†: <span class="subst">&#123;has_permission&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;å½“å‰ç”¨æˆ·æ— æƒé™çš„æ•°æ®é›†: <span class="subst">&#123;no_permission&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update_dataset_example</span>(<span class="params">self, dataset_id: <span class="built_in">str</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;æ›´æ–°æ•°æ®é›†çš„ç¤ºä¾‹&quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;\n=== æ›´æ–°æ•°æ®é›†ç¤ºä¾‹ (ID: <span class="subst">&#123;dataset_id&#125;</span>) ===&quot;</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># æ›´æ–°æ•°æ®é›†åç§°å’Œæè¿°</span></span><br><span class="line">            update_message = &#123;</span><br><span class="line">                <span class="string">&quot;name&quot;</span>: <span class="string">&quot;updated_kb&quot;</span>,</span><br><span class="line">                <span class="string">&quot;description&quot;</span>: <span class="string">&quot;å·²æ›´æ–°çš„çŸ¥è¯†åº“æ•°æ®é›†&quot;</span>,</span><br><span class="line">                <span class="string">&quot;embedding_model&quot;</span>: <span class="string">&quot;text-embedding-v2&quot;</span>,</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment"># è·å–æ•°æ®é›†å¯¹è±¡</span></span><br><span class="line">            datasets = <span class="variable language_">self</span>.rag_object.list_datasets(<span class="built_in">id</span>=dataset_id)</span><br><span class="line">            <span class="keyword">if</span> datasets:</span><br><span class="line">                dataset = datasets[<span class="number">0</span>]</span><br><span class="line">                dataset.update(update_message)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;æ•°æ®é›†æ›´æ–°æˆåŠŸ: <span class="subst">&#123;dataset.name&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="comment"># éªŒè¯æ›´æ–°ç»“æœ</span></span><br><span class="line">                updated_datasets = <span class="variable language_">self</span>.rag_object.list_datasets(<span class="built_in">id</span>=dataset_id)</span><br><span class="line">                <span class="keyword">if</span> updated_datasets:</span><br><span class="line">                    updated_dataset = updated_datasets[<span class="number">0</span>]</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;æ›´æ–°åçš„æ•°æ®é›†ä¿¡æ¯:&quot;</span>)</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;  åç§°: <span class="subst">&#123;updated_dataset.name&#125;</span>&quot;</span>)</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;  æè¿°: <span class="subst">&#123;updated_dataset.description&#125;</span>&quot;</span>)</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">f&quot;  åµŒå…¥æ¨¡å‹: <span class="subst">&#123;updated_dataset.embedding_model&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;æœªæ‰¾åˆ°IDä¸º <span class="subst">&#123;dataset_id&#125;</span> çš„æ•°æ®é›†&quot;</span>)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;æ›´æ–°æ•°æ®é›†å¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">delete_datasets_example</span>(<span class="params">self, dataset_ids: <span class="type">List</span>[<span class="built_in">str</span>]</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆ é™¤æ•°æ®é›†çš„ç¤ºä¾‹&quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;\n=== åˆ é™¤æ•°æ®é›†ç¤ºä¾‹ ===&quot;</span>)</span><br><span class="line">        <span class="comment"># 1. åˆ é™¤æŒ‡å®šæ•°æ®é›†</span></span><br><span class="line">        <span class="keyword">if</span> dataset_ids:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                <span class="variable language_">self</span>.rag_object.delete_datasets(ids=dataset_ids)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;æˆåŠŸåˆ é™¤ <span class="subst">&#123;<span class="built_in">len</span>(dataset_ids)&#125;</span> ä¸ªæ•°æ®é›†&quot;</span>)</span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;åˆ é™¤æ•°æ®é›†å¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="comment"># 2. åˆ é™¤ç©ºåˆ—è¡¨ï¼ˆä¸åˆ é™¤ä»»ä½•æ•°æ®é›†ï¼‰</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="variable language_">self</span>.rag_object.delete_datasets(ids=[])</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;ç©ºåˆ—è¡¨åˆ é™¤æ“ä½œå®Œæˆï¼ˆæœªåˆ é™¤ä»»ä½•æ•°æ®é›†ï¼‰&quot;</span>)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;ç©ºåˆ—è¡¨åˆ é™¤æ“ä½œå¤±è´¥: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä¸»å‡½æ•° - æ¼”ç¤ºæ•°æ®é›†ç®¡ç†çš„å®Œæ•´æµç¨‹&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># é…ç½®ä¿¡æ¯</span></span><br><span class="line">    API_KEY = <span class="string">&quot;ragflow-ZjMDYyNDQwNjIxNzExZjBhMjgyMDI0Mm&quot;</span>  <span class="comment"># ä¾‹å¦‚ï¼š&quot;abc123def456&quot;</span></span><br><span class="line">    BASE_URL = <span class="string">&quot;http://localhost:9380&quot;</span>  <span class="comment"># ä¾‹å¦‚ï¼š&quot;http://localhost:9380&quot;</span></span><br><span class="line">    <span class="comment"># åˆ›å»ºæ•°æ®é›†ç®¡ç†å™¨</span></span><br><span class="line">    dataset_manager = DatasetManager(API_KEY, BASE_URL)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 1. åˆ›å»ºæ•°æ®é›†</span></span><br><span class="line">        created_datasets = dataset_manager.create_dataset_example()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 2. åˆ—å‡ºæ•°æ®é›†</span></span><br><span class="line">        dataset_manager.list_datasets_example()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 3. æ›´æ–°æ•°æ®é›†</span></span><br><span class="line">        <span class="comment"># if created_datasets:</span></span><br><span class="line">        <span class="comment">#     dataset_manager.update_dataset_example(created_datasets[0].id)</span></span><br><span class="line">        <span class="comment"># 4. åˆ é™¤æ•°æ®é›†ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">        <span class="comment"># dataset_ids = [dataset.id for dataset in created_datasets]</span></span><br><span class="line">        <span class="comment"># dataset_manager.delete_datasets_example(dataset_ids)</span></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2024-06-01</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« Shuilang He</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/RAG/'>
                            RAG
                        </a>
                    
                        <a href='/tags/%E6%A1%86%E6%9E%B6/'>
                            æ¡†æ¶
                        </a>
                    
                        <a href='/tags/AI/'>
                            AI
                        </a>
                    
                        <a href='/tags/%E6%A3%80%E7%B4%A2%E5%A2%9E%E5%BC%BA%E7%94%9F%E6%88%90/'>
                            æ£€ç´¢å¢å¼ºç”Ÿæˆ
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/'>
                            è®¡ç®—æœºå­¦ä¹ ç¬”è®°
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/2024/08/07/%E5%8F%A3%E8%AF%AD%E8%A7%92-Do_You_Really_Need_8_Hours_of_Sleep_Every_Night/'>Do You Really Need 8 Hours of Sleep Every Night</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2023/08/06/%E5%8F%A3%E8%AF%AD%E8%A7%92-%E5%8F%91%E8%A8%80%E6%89%8B%E7%A8%BF/">Manuscripts for English Corner</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 1949-2024 China 

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠè½éœä¸å­¤é¹œé½é£ ç§‹æ°´å…±é•¿å¤©ä¸€è‰²ğŸŒŠ</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 

                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>